import{u as Y,b as A,f as E,c as j,j as e}from"./index-DyyPKWVw.js";import{g as N,u as R,r as v}from"./router-DxBqH87F.js";import{d as w,A as D,B as y,k as g,g as r,e as I,f as n,T as M,a as S,l as o,m as f,D as s,n as k,o as B,p as b,q as V,r as d}from"./antd-CLG0TARY.js";import{u as L}from"./i18n-DQrKltTP.js";import"./react-DJG_os-6.js";import"./utils-D4uJRgpa.js";const{Title:P,Text:C}=M,J=()=>{const{id:m}=N(),u=R(),a=Y(),{t:i}=L(),{invoices:c,selectedInvoice:p,loading:x,error:h}=A(l=>l.invoice);if(v.useEffect(()=>{c.length===0&&x==="idle"&&a(E())},[a,c.length,x]),v.useEffect(()=>{if(m&&c.length>0){const l=c.find(T=>T.id===m);a(j(l||null))}return()=>{a(j(null))}},[m,a,c]),x==="pending")return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(100vh - 200px)"},children:e.jsx(w,{size:"large"})});if(h)return e.jsx("div",{style:{padding:"50px"},children:e.jsx(D,{message:i("global.error"),description:h,type:"error",showIcon:!0})});if(!p)return e.jsxs("div",{style:{padding:"50px",textAlign:"center"},children:[e.jsx(D,{message:i("invoiceDetail.notFound"),type:"warning",showIcon:!0}),e.jsxs(y,{type:"primary",onClick:()=>u("/invoice-list"),style:{marginTop:20},children:[e.jsx(g,{})," ",i("invoiceDetail.goBack")]})]});const t=p,$=l=>{switch(l?.toUpperCase()){case"PAID":case"SENT":return e.jsx(d,{color:"green",children:i(`invoiceDetail.status.${l?.toLowerCase()}`)});case"PENDING":return e.jsx(d,{color:"orange",children:i(`invoiceDetail.status.${l?.toLowerCase()}`)});case"LATE":return e.jsx(d,{color:"red",children:i(`invoiceDetail.status.${l?.toLowerCase()}`)});default:return e.jsx(d,{children:l})}};return e.jsxs("div",{style:{padding:"24px"},children:[e.jsx(y,{onClick:()=>u("/invoice-list"),type:"link",icon:e.jsx(g,{}),style:{marginBottom:"16px",paddingLeft:0},children:i("invoiceDetail.goBack")}),e.jsx(r,{style:{marginBottom:"24px"},children:e.jsxs(I,{justify:"space-between",align:"middle",children:[e.jsxs(n,{children:[e.jsxs(P,{level:3,style:{margin:0},children:[i("invoiceDetail.invoice")," #",t.invoiceNumber]}),e.jsxs(S,{direction:"vertical",children:[e.jsxs(C,{type:"secondary",children:[e.jsx(f,{style:{marginRight:8}}),i("invoiceDetail.issueDate"),": ",o(t.issueDate).format("YYYY-MM-DD")]}),e.jsxs(C,{type:"secondary",children:[e.jsx(f,{style:{marginRight:8}}),i("invoiceDetail.dueDate"),": ",o(t.dueDate).format("YYYY-MM-DD")]})]})]}),e.jsx(n,{children:$(t.paymentDetails?.paymentStatus||t.status)})]})}),e.jsxs(I,{gutter:[24,24],children:[e.jsx(n,{xs:24,lg:12,children:e.jsx(r,{title:e.jsxs("span",{children:[e.jsx(k,{})," ",i("invoiceDetail.supplierInfo")]}),style:{height:"100%"},children:e.jsxs(s,{column:1,bordered:!0,children:[e.jsx(s.Item,{label:i("invoiceDetail.supplierName"),children:t.supplierName}),e.jsx(s.Item,{label:i("invoiceDetail.supplierVat"),children:t.supplierVat}),e.jsx(s.Item,{label:i("invoiceDetail.supplierId"),children:t.supplierId}),e.jsx(s.Item,{label:i("invoiceDetail.supplierCountryCode"),children:t.supplierCountryCode}),e.jsx(s.Item,{label:i("invoiceDetail.supplierEndpoint"),children:t.supplierEndpoint})]})})}),e.jsx(n,{xs:24,lg:12,children:e.jsx(r,{title:e.jsxs("span",{children:[e.jsx(B,{})," ",i("invoiceDetail.customerInfo")]}),style:{height:"100%"},children:e.jsxs(s,{column:1,bordered:!0,children:[e.jsx(s.Item,{label:i("invoiceDetail.customerName"),children:t.customerName}),e.jsx(s.Item,{label:i("invoiceDetail.customerVat"),children:t.customerVat}),e.jsx(s.Item,{label:i("invoiceDetail.customerId"),children:t.customerId}),e.jsx(s.Item,{label:i("invoiceDetail.customerCountryCode"),children:t.customerCountryCode}),e.jsx(s.Item,{label:i("invoiceDetail.customerEndpoint"),children:t.customerEndpoint})]})})}),e.jsx(n,{xs:24,lg:12,children:e.jsx(r,{title:e.jsxs("span",{children:[e.jsx(b,{})," ",i("invoiceDetail.invoiceInfo")]}),style:{height:"100%"},children:e.jsxs(s,{column:1,bordered:!0,children:[e.jsx(s.Item,{label:i("invoiceDetail.status"),children:t.status}),e.jsx(s.Item,{label:i("invoiceDetail.documentType"),children:t.documentType}),e.jsx(s.Item,{label:i("invoiceDetail.type"),children:t.type}),e.jsx(s.Item,{label:i("invoiceDetail.typeCode"),children:t.typeCode}),e.jsx(s.Item,{label:i("invoiceDetail.source"),children:t.source}),e.jsx(s.Item,{label:i("invoiceDetail.sendViaPeppol"),children:t.sendViaPeppol?i("global.yes"):i("global.no")})]})})}),e.jsx(n,{xs:24,lg:12,children:e.jsx(r,{title:e.jsxs("span",{children:[e.jsx(V,{})," ",i("invoiceDetail.paymentDetails")]}),style:{height:"100%"},children:e.jsxs(s,{column:1,bordered:!0,children:[e.jsx(s.Item,{label:i("invoiceDetail.payableAmount"),children:`${t.payableAmount??"-"} ${t.currency}`}),e.jsx(s.Item,{label:i("invoiceDetail.taxInclusiveAmount"),children:`${t.taxInclusiveAmount??"-"} ${t.currency}`}),e.jsx(s.Item,{label:i("invoiceDetail.taxExclusiveAmount"),children:`${t.taxExclusiveAmount??"-"} ${t.currency}`}),e.jsx(s.Item,{label:i("invoiceDetail.paidAmount"),children:`${t.paymentDetails?.paidAmount??"-"} ${t.currency}`}),e.jsx(s.Item,{label:i("invoiceDetail.remainingAmount"),children:`${t.paymentDetails?.remainingAmount??"-"} ${t.currency}`})]})})}),e.jsx(n,{xs:24,children:e.jsx(r,{title:e.jsxs("span",{children:[e.jsx(b,{})," ",i("invoiceDetail.systemInfo")]}),children:e.jsxs(s,{column:{xs:1,sm:2,md:3},bordered:!0,children:[e.jsx(s.Item,{label:i("invoiceDetail.createdTime"),children:o(t.createdTime).format("YYYY-MM-DD HH:mm:ss")}),e.jsx(s.Item,{label:i("invoiceDetail.lastUpdatedTime"),children:o(t.lastUpdatedTime).format("YYYY-MM-DD HH:mm:ss")}),e.jsx(s.Item,{label:i("invoiceDetail.fileName"),children:t.fileName||"-"})]})})})]})]})};export{J as default};
